var autoAdjusted=!1;function shuffle(e){for(let i in e){let t=Math.floor(Math.random()*e.length);[e[i],e[t]]=[e[t],e[i]]}}function orderedPerm(e){return[...Array(e).keys()]}function randPerm(e){let i=orderedPerm(e);return shuffle(i),i}function showText(e){$(e).each((e,i)=>{dynamics.css(i,{background:"black"})}),$(e).find(".fg-img").each((e,i)=>{dynamics.animate(i,{opacity:.5},{type:dynamics.easeOut,friction:140,duration:400})}),$(e).find(".fg-text").each((e,i)=>{dynamics.animate(i,{opacity:1,scale:1},{type:dynamics.spring,frequency:200,friction:380,duration:800})})}function hideText(e){$(e).find(".fg-img").each((i,t)=>{dynamics.animate(t,{opacity:1},{type:dynamics.easeOut,friction:140,duration:400,complete:function(){$(e).each((e,i)=>{dynamics.css(i,{background:"white"})})}})}),$(e).find(".fg-text").each((e,i)=>{dynamics.animate(i,{opacity:0,scale:.1},{type:dynamics.spring,frequency:200,friction:380,duration:800})})}function parseUnit(e,i){e=e.trim();let t=1;return isNumber(e)?t=i:e.endsWith("px")?(t=1,e=e.replace("px","")):e.endsWith("pt")?(t=4/3,e=e.replace("pt","")):e.endsWith("em")?(t=16,e=e.replace("em","")):e.endsWith("rem")?(t=16,e=e.replace("rem","")):e.endsWith("%","")&&(t=i/100,e=e.replace("%","")),Number(e)*t}(e=>{e.fn.flexGallery=function(i){let t=e.extend({margin:"0.5vmin",minHeightRatioWindow:null,minHeightRatioScreen:null,fadeInDuration:1e3,checkPeriod:100,autoAdjust:!0},i);t.minHeightRatioWindow||t.minHeightRatioScreen||(t.minHeightRatioWindow=.25);let n=minHeightScreen=Number.MAX_SAFE_INTEGER;t.minHeightRatioWindow&&(n=window.innerHeight*t.minHeightRatioWindow),t.minHeightRatioScreen&&(minHeightScreen=screen.height*t.minHeightRatioScreen);let a=Math.min(n,minHeightScreen);return!autoAdjusted&&t.autoAdjust&&(e(window).on("resize",()=>{t.minHeightRatioWindow&&(n=window.innerHeight*t.minHeightRatioWindow),a=Math.min(n,minHeightScreen),e(".flex-gallery-a").each((i,t)=>{let n=e(t).children()[0];e(t).css("width",a*n.naturalWidth/n.naturalHeight)})}),autoAdjusted=!0),this.find("*").addBack().filter(".fg-container").each((i,n)=>{e(n).css("margin",t.margin),e(n).find(".fg-item").css("margin",t.margin).each((i,n)=>{e(n).find(".fg-img").css("display","none").on("load",i=>{e(i.target).fadeIn(t.fadeInDuration,()=>e(n).each(()=>hideText(n)).hover(()=>showText(n),()=>hideText(n)))}).each((i,r)=>{let d=setInterval(()=>{let i=e(r).get(0);i.naturalWidth&&(clearInterval(d),e(n).css({width:a*i.naturalWidth/i.naturalHeight,"flex-grow":i.naturalWidth/i.naturalHeight}))},t.checkPeriod);e(r).attr("src",e(r).attr("fg-img-src"))}),e(n).find(".fg-text").css("opacity",0)})})},e.fn.addFlexImages=function(i,t=!1){if(!i.images)throw"Error: images not found.";if(i.links&&i.images.length!=i.links.length)throw"Error: # of images and # of links are not the same.";let n,a=links=i.images.slice();return i.links&&(links=i.links.slice()),n=i.texts?i.texts.slice():Array(a.length).fill(""),this.each(()=>{let r;(r=t?randPerm(i.images.length):orderedPerm(i.images.length)).forEach(i=>{e("#container").addClass("fg-container").append(e("<div>").addClass("fg-item").append(e("<a>").attr("href",links[i]).append(e("<img>").addClass("fg-img").attr("fg-img-src",a[i]))).append(e("<span>").addClass("fg-text").text(n[i])))})})}})(jQuery),$(document).on("click",e=>{});